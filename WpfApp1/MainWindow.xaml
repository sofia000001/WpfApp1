<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Текстовый редактор" 
        Height="600" Width="800"
        WindowStartupLocation="CenterScreen"
        MinWidth="600" MinHeight="400">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0*"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 1. МЕНЮ -->
        <Menu Grid.Row="0" Grid.ColumnSpan="2" Margin="0,0,0,43" Grid.RowSpan="2">
           <!-- Файл -->
            <MenuItem Header="_Файл">
                <MenuItem Header="_Создать" Click="New_Click"/>
                <MenuItem Header="_Открыть..." Click="Open_Click"/>
                <MenuItem Header="_Сохранить" Click="Save_Click"/>
                <MenuItem Header="Сохранить _как..." Click="SaveAs_Click"/>
                <Separator/>
                <MenuItem Header="_Выход" Click="Exit_Click"/>
            </MenuItem>
            <!-- Правка -->
            <MenuItem Header="_Правка">
                <MenuItem Header="_Отменить" Click="Undo_Click"/>
                <MenuItem Header="_Вернуть" Click="Redo_Click"/>
                <Separator/>
                <MenuItem Header="Вы_резать" Click="Cut_Click"/>
                <MenuItem Header="_Копировать" Click="Copy_Click"/>
                <MenuItem Header="_Вставить" Click="Paste_Click"/>
                <MenuItem Header="_Удалить" Click="Delete_Click"/>
                <Separator/>
                <MenuItem Header="Выделить _все" Click="SelectAll_Click"/>
            </MenuItem>
            <!-- Справка -->
            <MenuItem Header="_Справка">
                <MenuItem Header="_Справка" Click="Help_Click"/>
                <Separator/>
                <MenuItem Header="_О программе" Click="About_Click"/>
            </MenuItem>
        </Menu>

        <!-- 2. ПАНЕЛЬ ИНСТРУМЕНТОВ -->
        <ToolBarTray Grid.Row="1" Background="WhiteSmoke" Grid.ColumnSpan="2" Margin="0,0,0,501" Grid.RowSpan="2">
            <ToolBar Band="0" BandIndex="0">

                <!-- Файл -->
                <Button x:Name="btnNew" ToolTip="Создать (Ctrl+N)" Click="New_Click" Margin="2" Padding="4">
                    <Image Source="Icons/new.png" Width="24" Height="24"/>
                </Button>
                <Button x:Name="btnOpen" ToolTip="Открыть (Ctrl+O)" Click="Open_Click" Margin="2" Padding="4">
                    <Image Source="Icons/open.png" Width="24" Height="24"/>
                </Button>
                <Button x:Name="btnSave" ToolTip="Сохранить (Ctrl+S)" Click="Save_Click" Margin="2" Padding="4">
                    <Image Source="Icons/save.png" Width="24" Height="24"/>
                </Button>
                <Button x:Name="btnSaveAs" ToolTip="Сохранить как" Click="SaveAs_Click" Margin="2" Padding="4">
                    <Image Source="Icons/saveas.png" Width="24" Height="24"/>
                </Button>

                <Separator/>

                <!-- Правка: Отмена -->
                <Button x:Name="btnUndo" ToolTip="Отменить (Ctrl+Z)" Click="Undo_Click" Margin="2" Padding="4">
                    <Image Source="Icons/undo.png" Width="24" Height="24"/>
                </Button>

                <Separator/>

                <!-- Правка: Редактирование -->
                <Button x:Name="btnCut" ToolTip="Вырезать (Ctrl+X)" Click="Cut_Click" Margin="2" Padding="4">
                    <Image Source="Icons/cut.png" Width="24" Height="24"/>
                </Button>
                <Button x:Name="btnCopy" ToolTip="Копировать (Ctrl+C)" Click="Copy_Click" Margin="2" Padding="4">
                    <Image Source="Icons/copy.png" Width="24" Height="24"/>
                </Button>
                <Button x:Name="btnPaste" ToolTip="Вставить (Ctrl+V)" Click="Paste_Click" Margin="2" Padding="4">
                    <Image Source="Icons/paste.png" Width="24" Height="24"/>
                </Button>
                <Button x:Name="btnDelete" ToolTip="Удалить (Del)" Click="Delete_Click" Margin="2" Padding="4">
                    <Image Source="Icons/delete.png" Width="24" Height="24"/>
                </Button>
                <Button x:Name="btnSelectAll" ToolTip="Выделить всё (Ctrl+A)" Click="SelectAll_Click" Margin="2" Padding="4">
                    <Image Source="Icons/selectall.png" Width="24" Height="24"/>
                </Button>

                <Separator/>

                <!-- Справка -->
                <Button x:Name="btnHelp" ToolTip="Справка (F1)" Click="Help_Click" Margin="2" Padding="4">
                    <Image Source="Icons/help.png" Width="24" Height="24"/>
                </Button>
                <Button x:Name="btnAbout" ToolTip="О программе" Click="About_Click" Margin="2" Padding="4">
                    <Image Source="Icons/about.png" Width="24" Height="24"/>
                </Button>
            </ToolBar>
        </ToolBarTray>

        <!-- 3. ОСНОВНАЯ ОБЛАСТЬ -->
        <Grid Grid.Row="2" Margin="5,5,5,5" Grid.ColumnSpan="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="2*"/>
                <RowDefinition Height="5"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Область ввода/редактирования -->
            <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="1">
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                    <TextBox x:Name="EditorTextBox" 
                             AcceptsReturn="True" 
                             AcceptsTab="True"
                             TextWrapping="Wrap"
                             FontFamily="Consolas"
                             FontSize="14"
                             Padding="5"
                             VerticalAlignment="Stretch"
                             HorizontalAlignment="Stretch"
                             TextChanged="EditorTextBox_TextChanged"/>
                </ScrollViewer>
            </Border>

            <!-- Разделитель -->
            <GridSplitter Grid.Row="1" 
                         Height="5"
                         HorizontalAlignment="Stretch"
                         Background="LightGray"
                         ShowsPreview="True"/>

            <!-- Область вывода -->
            <Border Grid.Row="2" BorderBrush="Gray" BorderThickness="1">
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                    <TextBox x:Name="OutputTextBox" 
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             FontFamily="Consolas"
                             FontSize="12"
                             Padding="5"
                             Background="#F0F0F0"
                             VerticalAlignment="Stretch"
                             HorizontalAlignment="Stretch"/>
                </ScrollViewer>
            </Border>
        </Grid>

        <!-- Строка состояния -->
        <StatusBar Grid.Row="2" Grid.ColumnSpan="2" Margin="0,501,0,0" Grid.RowSpan="2">
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="Готов"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>